import{r as de,c as v,a as T,o as c,b as d,d as t,e as $,F as C,f as le,S as Q,g as S,h as f,i as R,t as p,w as O,j as y,v as x,p as I,k,l as ue,m as _e,n as pe,q as me,s as F,u as U,M as q,x as ve,y as fe,z as W,A as ge}from"./vendor.e4c34f59.js";const he=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const n of u.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&o(n)}).observe(document,{childList:!0,subtree:!0});function s(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerpolicy&&(u.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?u.credentials="include":a.crossorigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(a){if(a.ep)return;a.ep=!0;const u=s(a);fetch(a.href,u)}};he();const r=de({user:{},account:{},recipes:[],activeIngredients:[],activeSteps:[],favorites:[],menu:1,categories:["Pasta","Burger","Salad","Soup","Fish","Beef","Other"]});var w=(i,e)=>{for(const[s,o]of e)i[s]=o;return i};const be={name:"App",setup(){return{appState:v(()=>r)}}},ye={class:"container-fluid background"},xe={class:"row"},we=t("footer",null,null,-1);function Se(i,e,s,o,a,u){const n=T("router-view");return c(),d(C,null,[t("main",ye,[t("div",xe,[$(n)])]),we],64)}var Ie=w(be,[["render",Se]]);const G=window.location.origin.includes("localhost"),Z=G?"https://localhost:5001":"",ke="john-codeworks.us.auth0.com",$e="UQuN3ny3HsAeAStMEfZDLZE85IqdrOg3",Ae="https://JohnDev.com";function E(i,e){if(G)console[i](`[${i}] :: ${new Date().toLocaleTimeString()} :: `,...e);else{switch(i){case"log":case"assert":return}console[i](`[${i}] :: ${new Date().toLocaleTimeString()} :: `,...e)}}const l={log(){E("log",arguments)},error(){E("error",arguments)},warn(){E("warn",arguments)},assert(){E("assert",arguments)},trace(){E("trace",arguments)}},m=le.create({baseURL:Z,timeout:8e3});class Ce{async getIngredients(e){const s=await m.get("api/recipes/"+e+"/ingredients");r.activeIngredients=s.data,l.log("Ingredients",r.activeIngredients)}async addIngredient(e){const s=await m.post("api/ingredients",e);l.log("New Ingredient",s.data),r.activeIngredients.push(s.data)}async removeIngredient(e){const s=await m.delete("api/ingredients/"+e);l.log(s.data);const o=r.activeIngredients.filter(a=>a.id!==e);r.activeIngredients=o}}const M=new Ce;class h{static async confirm(e="Are you sure?",s="You won't be able to revert this!",o="warning",a="Yes, delete it!"){try{return!!(await Q.fire({title:e,text:s,icon:o,showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:a})).isConfirmed}catch{return!1}}static toast(e="Warning!",s="warning",o="top-end",a=3e3,u=!0){Q.fire({title:e,icon:s,position:o,timer:a,timerProgressBar:u,toast:!0,showConfirmButton:!1})}}const Ee={props:{recipe:{type:Object}},setup(i){let e=S({recipeId:i.recipe.id});return{edit:S(!0),add:e,ingredients:v(()=>r.activeIngredients),account:v(()=>r.account),async addIngredient(){try{await M.addIngredient(e.value),e.value={recipeId:i.recipe.id}}catch(o){l.error(o),h.toast(o,"error")}},async removeIngredient(o){try{await M.removeIngredient(o)}catch(a){l.error(a),h.toast(a,"error")}}}}},D=i=>(I("data-v-053ec5b2"),i=i(),k(),i),Te={class:"Ingredients"},Re={key:0,class:"card border-0"},Oe={class:"topcard rounded d-flex justify-content-center align-items-center"},Pe=D(()=>t("div",{class:"col-8 text-end"},[t("p",{class:"font title my-2"},"Ingredients")],-1)),je={class:"text-end col-4"},Ne={class:"middlecard scrollbar pt-2"},Fe={class:"font mx-3 mb-1"},Ue={class:"font mb-1"},qe={class:"bottomcard rounded d-flex justify-content-center align-items-center"},Me={key:0,class:"px-2"},De={class:"input-group mb-3"},Ve=D(()=>t("div",{class:"input-group-append"},[t("button",{title:"Add Ingredient",class:"btn whiteback border-0",type:"submit"},[t("i",{class:"mdi mdi-18px text-primary mdi-plus"})])],-1)),Le={key:1,class:"card border-0"},Be={class:"topcard rounded d-flex justify-content-center align-items-center"},He=D(()=>t("div",{class:"col-8 text-end"},[t("p",{class:"font title my-2"},"Ingredients")],-1)),ze={class:"text-end col-4"},Ke={class:"middlecard scrollbar pt-2"},Ye=["onClick"],Qe={class:"font mx-3 mb-1"},We={class:"font mb-1"},Ge={class:"bottomcard rounded d-flex justify-content-end align-items-center"},Ze={class:"px-2"};function Je(i,e,s,o,a,u){return c(),d("div",Te,[o.edit===!0?(c(),d("div",Re,[t("div",Oe,[Pe,t("div",je,[s.recipe.creatorId===o.account.id?(c(),d("i",{key:0,onClick:e[0]||(e[0]=n=>o.edit=!o.edit),title:"Edit Ingredients",class:"mdi pe-3 mdi-18px mdi-pencil selectable1"})):f("",!0)])]),t("div",Ne,[(c(!0),d(C,null,R(o.ingredients,n=>(c(),d("div",{class:"d-flex",key:n.id},[t("p",Fe,p(n.quantity),1),t("p",Ue,p(n.name),1)]))),128))]),t("div",qe,[s.recipe.creatorId===o.account.id?(c(),d("div",Me,[t("form",{onSubmit:e[3]||(e[3]=O((...n)=>o.addIngredient&&o.addIngredient(...n),["prevent"]))},[t("div",De,[y(t("input",{type:"text",class:"form-control border-0 font whiteback size",placeholder:"Add an ingredient","aria-label":"Ingredient","onUpdate:modelValue":e[1]||(e[1]=n=>o.add.name=n),maxlength:"15",required:""},null,512),[[x,o.add.name]]),y(t("input",{type:"text",class:"form-control border-0 font whiteback",placeholder:"Qty","aria-label":"Quantity","onUpdate:modelValue":e[2]||(e[2]=n=>o.add.quantity=n),required:"",maxlength:"4"},null,512),[[x,o.add.quantity]]),Ve])],32)])):f("",!0)])])):f("",!0),o.edit===!1?(c(),d("div",Le,[t("div",Be,[He,t("div",ze,[t("i",{onClick:e[4]||(e[4]=n=>o.edit=!o.edit),title:"Edit Ingredients",class:"mdi pe-3 mdi-18px mdi-pencil selectable1"})])]),t("div",Ke,[(c(!0),d(C,null,R(o.ingredients,n=>(c(),d("div",{class:"d-flex",key:n.id},[t("i",{onClick:b=>o.removeIngredient(n.id),title:"Remove Ingredient",class:"mdi mdi-close text-danger ms-3 selectable1"},null,8,Ye),t("p",Qe,p(n.quantity),1),t("p",We,p(n.name),1)]))),128))]),t("div",Ge,[t("div",Ze,[t("p",{title:"Done",onClick:e[5]||(e[5]=n=>o.edit=!o.edit),class:"font pe-3 f-16 text-primary selectable1"}," Done ")])])])):f("",!0)])}var Xe=w(Ee,[["render",Je],["__scopeId","data-v-053ec5b2"]]),et=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Xe});const tt="modulepreload",J={},ot="/",V=function(e,s){return!s||s.length===0?e():Promise.all(s.map(o=>{if(o=`${ot}${o}`,o in J)return;J[o]=!0;const a=o.endsWith(".css"),u=a?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${u}`))return;const n=document.createElement("link");if(n.rel=a?"stylesheet":tt,a||(n.as="script",n.crossOrigin=""),n.href=o,document.head.appendChild(n),a)return new Promise((b,_)=>{n.addEventListener("load",b),n.addEventListener("error",_)})})).then(()=>e())};function st(i){switch(i){case"./pages/AboutPage.vue":return V(()=>import("./AboutPage.499b5b24.js"),["assets/AboutPage.499b5b24.js","assets/vendor.e4c34f59.js"]);case"./pages/AccountPage.vue":return V(()=>import("./AccountPage.0479e721.js"),["assets/AccountPage.0479e721.js","assets/AccountPage.1d38451d.css","assets/vendor.e4c34f59.js"]);case"./pages/HomePage.vue":return V(()=>import("./HomePage.450d8198.js"),["assets/HomePage.450d8198.js","assets/HomePage.100ead12.css","assets/vendor.e4c34f59.js"]);default:return new Promise(function(e,s){(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(s.bind(null,new Error("Unknown variable dynamic import: "+i)))})}}function L(i){return()=>st(`./pages/${i}.vue`)}const it=[{path:"/",name:"Home",component:L("HomePage")},{path:"/about",name:"About",component:L("AboutPage")},{path:"/account",name:"Account",component:L("AccountPage"),beforeEnter:pe}],X=ue({linkActiveClass:"router-link-active",linkExactActiveClass:"router-link-exact-active",history:_e(),routes:it});class nt{async getAccount(){try{const e=await m.get("/account");r.account=e.data}catch(e){l.error("HAVE YOU STARTED YOUR SERVER YET???",e)}}async getFavorites(){const e=r.account.id,s=await m.get("account/"+e+"/favorites");l.log("Favorites",s.data),r.favorites=s.data}async editAccount(e){const s=await m.put("/account",e);l.log(s.data),r.account=s.data}}const ee=new nt,at={connection:"connection",connected:"connected",disconnect:"disconnect",authenticate:"authenticate",authenticated:"authenticated",userConnected:"userConnected",userDisconnected:"userDisconnected",error:"error"};class rt{constructor(e=!1,s=Z){}on(e,s){var o;return(o=this.socket)==null||o.on(e,s.bind(this)),this}onConnected(e){l.log("[SOCKET_CONNECTION]",e),this.connected=!0,this.playback()}onAuthenticated(e){l.log("[SOCKET_AUTHENTICATED]",e),this.authenticated=!0,this.playback()}authenticate(e){var s;(s=this.socket)==null||s.emit(at.authenticate,e)}onError(e){l.error("[SOCKET_ERROR]",e)}enqueue(e,s){l.log("[ENQUEING_ACTION]",{action:e,payload:s}),this.queue.push({action:e,payload:s})}playback(){l.log("[SOCKET_PLAYBACK]");const e=[...this.queue];this.queue=[],e.forEach(s=>{this.emit(s.action,s.payload)})}emit(e,s=void 0){if(this.requiresAuth&&!this.authenticated)return this.enqueue(e,s);if(!this.connected)return this.enqueue(e,s);this.socket.emit(e,s)}}class ct extends rt{constructor(){super();this.on("error",this.onError)}onError(e){h.toast(e.message,"error")}}const te=new ct,g=me({domain:ke,clientId:$e,audience:Ae,useRefreshTokens:!0,onRedirectCallback:i=>{X.push(i&&i.targetUrl?i.targetUrl:window.location.pathname)}});g.on(g.AUTH_EVENTS.AUTHENTICATED,async function(){m.defaults.headers.authorization=g.bearer,m.interceptors.request.use(dt),r.user=g.user,await ee.getAccount(),te.authenticate(g.bearer)});async function dt(i){if(!g.isAuthenticated)return i;const e=g.identity.exp*1e3,s=e<Date.now(),o=e<Date.now()+1e3*60*60*12;return s?await g.loginWithPopup():o&&(await g.getTokenSilently(),m.defaults.headers.authorization=g.bearer,te.authenticate(g.bearer)),i}var lt="/assets/cw-logo.71baeadb.png";const ut={setup(){return{user:v(()=>r.user),async login(){g.loginWithPopup()},async logout(){g.logout({returnTo:window.location.origin})}}}},P=i=>(I("data-v-e64c9206"),i=i(),k(),i),_t={class:"navbar navbar-expand-lg navbar-dark bg-dark px-3"},pt=P(()=>t("div",{class:"d-flex flex-column align-items-center"},[t("img",{alt:"logo",src:lt,height:"45"})],-1)),mt=P(()=>t("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarText","aria-controls":"navbarText","aria-expanded":"false","aria-label":"Toggle navigation"},[t("span",{class:"navbar-toggler-icon"})],-1)),vt={class:"collapse navbar-collapse",id:"navbarText"},ft={class:"navbar-nav me-auto"},gt=U(" About "),ht={class:"navbar-text"},bt={key:1,class:"dropdown my-2 my-lg-0"},yt={class:"dropdown-toggle selectable","data-bs-toggle":"dropdown","aria-expanded":"false",id:"authDropdown"},xt=["src"],wt={class:"mx-3 text-success lighten-30"},St={class:"dropdown-menu p-0 list-group w-100","aria-labelledby":"authDropdown"},It=P(()=>t("div",{class:"list-group-item list-group-item-action hoverable"}," Manage Account ",-1)),kt=P(()=>t("i",{class:"mdi mdi-logout"},null,-1)),$t=U(" logout "),At=[kt,$t];function Ct(i,e,s,o,a,u){const n=T("router-link");return c(),d("nav",_t,[$(n,{class:"navbar-brand d-flex",to:{name:"Home"}},{default:F(()=>[pt]),_:1}),mt,t("div",vt,[t("ul",ft,[t("li",null,[$(n,{to:{name:"About"},class:"btn text-success lighten-30 selectable text-uppercase"},{default:F(()=>[gt]),_:1})])]),t("span",ht,[o.user.isAuthenticated?(c(),d("div",bt,[t("div",yt,[t("img",{src:o.user.picture,alt:"user photo",height:"40",class:"rounded"},null,8,xt),t("span",wt,p(o.user.name),1)]),t("div",St,[$(n,{to:{name:"Account"}},{default:F(()=>[It]),_:1}),t("div",{class:"list-group-item list-group-item-action hoverable text-danger",onClick:e[1]||(e[1]=(...b)=>o.logout&&o.logout(...b))},At)])])):(c(),d("button",{key:0,class:"btn selectable text-success lighten-30 text-uppercase my-2 my-lg-0",onClick:e[0]||(e[0]=(...b)=>o.login&&o.login(...b))}," Login "))])])])}var Et=w(ut,[["render",Ct],["__scopeId","data-v-e64c9206"]]),Tt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Et});class Rt{async getAll(){const e=await m.get("api/recipes");r.recipes=e.data,r.menu=1}async submit(e){const s=await m.post("api/recipes",e);l.log(s.data),r.recipes.push(s.data)}async remove(e){const s=await m.delete("api/recipes/"+e);l.log(s.data);let o=r.recipes.filter(a=>a.id!==e);r.recipes=o}async myRecipes(){let e=r.recipes.filter(s=>s.creatorId===r.account.id);r.recipes=e,r.menu=2}async myFavorites(){let e=r.favorites,s=[];for(let o=0;o<e.length;o++){let a=e[o].recipeId;const u=r.recipes.find(n=>n.id===a);u&&s.push(u)}r.recipes=s,r.menu=3}sortBy(e){let s=r.recipes.filter(o=>o.category===r.categories[e]);r.recipes=s}async querySearch(e){let o=(await m.get("api/Query?search=%"+e+"%")).data;r.recipes=o,r.menu=1}}const oe=new Rt;const Ot={setup(){let i=S({});return{add:i,async submit(){try{await oe.submit(i.value),i.value={};const e=document.getElementById("newRecipe");q.getOrCreateInstance(e).toggle()}catch(e){l.error(e),h.toast(e,"error")}},close(){i.value={};const e=document.getElementById("newRecipe");q.getOrCreateInstance(e).toggle()}}}},A=i=>(I("data-v-22726858"),i=i(),k(),i),Pt={class:"newRecipe"},jt={class:"modal fade",id:"newRecipe",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},Nt={class:"modal-dialog mt-5 modal-lg"},Ft={class:"modal-content"},Ut={class:"modal-body"},qt=A(()=>t("div",{class:"card modalstyle"},[t("div",{class:""},[t("p",{class:"m-0 ms-4 font text-white f-20 py-1"},"New Recipe")])],-1)),Mt={class:"card cardinputs p-3"},Dt={class:"mb-3"},Vt={class:"d-flex"},Lt={class:"col-7 pe-4"},Bt=A(()=>t("label",{class:"form-label font"},"Recipe's Title",-1)),Ht={class:"col-5"},zt=A(()=>t("label",{class:"form-label font"},"Category",-1)),Kt=fe('<option selected data-v-22726858>Select a Category</option><option value="Pasta" data-v-22726858>Pasta</option><option value="Burger" data-v-22726858>Burger</option><option value="Salad" data-v-22726858>Salad</option><option value="Soup" data-v-22726858>Soup</option><option value="Fish" data-v-22726858>Fish</option><option value="Beef" data-v-22726858>Beef</option><option value="Other" data-v-22726858>Other</option>',8),Yt=[Kt],Qt={class:"mt-3"},Wt=A(()=>t("label",{class:"form-label font"},"Sub Title",-1)),Gt={class:"d-flex justify-content-between mt-1"},Zt=A(()=>t("label",{class:"brief font ps-2"},"A brief description of the recipe",-1)),Jt={class:"brief font pe-2"},Xt=A(()=>t("label",{class:"form-label font mt-2"},"Image Url",-1)),eo={class:"text-end mt-3"};function to(i,e,s,o,a,u){var n,b;return c(),d("div",Pt,[t("div",jt,[t("div",Nt,[t("div",Ft,[t("div",Ut,[qt,t("div",Mt,[t("div",Dt,[t("form",null,[t("div",Vt,[t("div",Lt,[Bt,y(t("input",{required:"",type:"text",class:"form-control font border-0",placeholder:"Enter title...","onUpdate:modelValue":e[0]||(e[0]=_=>o.add.title=_),maxlength:"30"},null,512),[[x,o.add.title]])]),t("div",Ht,[zt,y(t("select",{required:"",class:"form-select border-0 font","aria-label":"Default select example","onUpdate:modelValue":e[1]||(e[1]=_=>o.add.category=_)},Yt,512),[[ve,o.add.category]])])]),t("div",Qt,[Wt,y(t("input",{required:"",type:"text",class:"form-control font border-0",placeholder:"Enter sub title...","onUpdate:modelValue":e[2]||(e[2]=_=>o.add.subtitle=_),maxlength:"50"},null,512),[[x,o.add.subtitle]]),t("div",Gt,[Zt,t("label",Jt,p(((n=o.add.subtitle)==null?void 0:n.length)?(b=o.add.subtitle)==null?void 0:b.length:0)+"/50",1)]),Xt,y(t("input",{required:"",type:"text",class:"form-control font border-0",placeholder:"Enter image url...","onUpdate:modelValue":e[3]||(e[3]=_=>o.add.imgUrl=_)},null,512),[[x,o.add.imgUrl]]),t("div",eo,[t("button",{onClick:e[4]||(e[4]=(..._)=>o.close&&o.close(..._)),class:"btn text-primary me-4"}," Cancel "),t("button",{onClick:e[5]||(e[5]=(..._)=>o.submit&&o.submit(..._)),class:"btn btn-primary text-white"}," Submit ")])])])])])])])])])])}var oo=w(Ot,[["render",to],["__scopeId","data-v-22726858"]]),so=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:oo});const io={setup(){let i=S(!0),e=S({});return{edit:i,editProfile:e,account:v(()=>r.account),user:v(()=>r.user),async editAccount(){try{await ee.editAccount(e.value),i.value=!i.value}catch(s){l.log(s),h.toast(s.message,"error")}},async logout(){g.logout({returnTo:window.location.origin})}}}},B=i=>(I("data-v-95991640"),i=i(),k(),i),no={class:"ProfileCanvas"},ao={class:"offcanvas offcanvas-end",tabindex:"-1",id:"offcanvasExample","aria-labelledby":"offcanvasLabel"},ro=B(()=>t("div",{class:"offcanvas-header"},[t("h3",{class:"offcanvas-title",id:"offcanvasLabel"},"Profile"),t("button",{type:"button",class:"btn-close text-reset","data-bs-dismiss":"offcanvas","aria-label":"Close"})],-1)),co={class:"offcanvas-body"},lo={class:"d-flex justify-content-center flex-column align-items-center"},uo={key:0},_o=["src"],po={key:1,class:"text-center mb-3"},mo={class:"mt-2"},vo={class:"mt-2"},fo={key:0},go={class:"d-flex flex-column mb-3 mt-4"},ho={class:"input-group"},bo=B(()=>t("span",{class:"input-group-text border-dark"},"Name",-1)),yo={class:"d-flex flex-column"},xo={class:"input-group"},wo=B(()=>t("span",{class:"input-group-text border-dark"},"Picture URL",-1)),So={class:"d-flex justify-content-center mt-3"},Io={class:"text-center mt-3"};function ko(i,e,s,o,a,u){return c(),d("div",no,[t("div",ao,[ro,t("div",co,[t("div",lo,[t("i",{onClick:e[0]||(e[0]=n=>o.edit=!o.edit),"aria-label":"edit profile",class:"mdi mdi-pencil selectable1 align-self-end"},"Edit Profile"),o.edit===!0?(c(),d("div",uo,[t("img",{src:o.account.picture,alt:"user photo",height:"120",width:"120",class:"picrounded elevation-3"},null,8,_o)])):f("",!0),o.edit===!0?(c(),d("div",po,[t("h4",mo,p(o.account.name),1),t("h5",vo,p(o.account.email),1)])):f("",!0)]),o.edit===!1?(c(),d("div",fo,[t("form",null,[t("div",go,[t("div",ho,[bo,y(t("input",{class:"form-control border-dark",type:"text",placeholder:"",name:"name","onUpdate:modelValue":e[1]||(e[1]=n=>o.editProfile.name=n)},null,512),[[x,o.editProfile.name]])])]),t("div",yo,[t("div",xo,[wo,y(t("input",{class:"form-control border-dark",type:"text",placeholder:"",name:"pic-url","onUpdate:modelValue":e[2]||(e[2]=n=>o.editProfile.picture=n)},null,512),[[x,o.editProfile.picture]])])]),t("div",So,[o.edit===!1?(c(),d("i",{key:0,type:"submit",onClick:e[3]||(e[3]=(...n)=>o.editAccount&&o.editAccount(...n)),class:"mdi mdi-content-save selectable1 align-self-end border p-1 rounded bg-light"}," Save ")):f("",!0)])])])):f("",!0),t("div",Io,[t("button",{onClick:e[4]||(e[4]=(...n)=>o.logout&&o.logout(...n)),class:"btn btn-outline-danger"},"Logout")])])])])}var $o=w(io,[["render",ko],["__scopeId","data-v-95991640"]]),Ao=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:$o});class Co{async getSteps(e){const s=await m.get("api/recipes/"+e+"/steps");let o=r.activeSteps;o=s.data;for(let a=0;a<o.length;a++)o[a].stepNumber=a+1;r.activeSteps=o,l.log("steps",r.activeSteps)}async addStep(e){e.stepNumber=r.activeSteps.length+1;const s=await m.post("api/steps",e);l.log("New Step",s.data),r.activeSteps.push(s.data)}async removeStep(e){const s=await m.delete("api/steps/"+e);l.log(s.data);let o=r.activeSteps.filter(a=>a.id!==e);for(let a=0;a<o.length;a++)o[a].stepNumber=a+1;r.activeSteps=o}}const H=new Co;class Eo{async addFavorite(e,s){const o=await m.post("api/favorites",{recipeId:e,accountId:s});l.log("Favorite",o.data),r.favorites.push(o.data)}async removeFavorite(e){const s=await m.delete("api/favorites/"+e);l.log(s.data);let o=r.favorites.filter(a=>a.id!==e);r.favorites=o}}const j=new Eo;const z={props:{recipes:{type:Object},favorites:{type:Array}},setup(i){return{imgUrl:v(()=>`url(${i.recipes.imgUrl})`),account:v(()=>r.account),user:v(()=>r.user),async getInfo(){try{l.log("getting info"),await M.getIngredients(i.recipes.id),await H.getSteps(i.recipes.id);let e=document.getElementById("a"+i.recipes.id+"a");l.log(e),q.getOrCreateInstance(e).toggle()}catch(e){l.error(e),h.toast(e,"error")}},async addFavorite(){try{await j.addFavorite(i.recipes.id,this.account.id)}catch(e){l.error(e),h.toast(e,"error")}},async removeFavorite(){try{let e=i.favorites.find(s=>s.recipeId===i.recipes.id);await j.removeFavorite(e.id)}catch(e){l.error(e),h.toast(e,"error")}}}}},se=()=>{W(i=>({"656f7a51":i.imgUrl}))},ie=z.setup;z.setup=ie?(i,e)=>(se(),ie(i,e)):se;const To=z,ne=i=>(I("data-v-221521f2"),i=i(),k(),i),Ro={class:"recipe"},Oo={class:"d-flex justify-content-between"},Po={class:"card category rounded-pill align-self-center"},jo={class:"m-0 px-2 font"},No={key:0},Fo=ne(()=>t("i",{class:"mdi-24px text-danger mdi mdi-cards-heart"},null,-1)),Uo=[Fo],qo={key:1},Mo=ne(()=>t("i",{class:"mdi-24px text-white mdi mdi-cards-heart-outline"},null,-1)),Do=[Mo],Vo={key:2,class:"placement"},Lo={class:"card blurycards border-0 m-0 rounded-0"},Bo={class:"title font mb-0"},Ho={class:"subtitle font textover"};function zo(i,e,s,o,a,u){return c(),d("div",Ro,[t("div",{onClick:e[2]||(e[2]=(...n)=>o.getInfo&&o.getInfo(...n)),class:"card cardback d-flex justify-content-between grow"},[t("div",Oo,[t("div",Po,[t("p",jo,p(s.recipes.category),1)]),s.favorites.find(n=>n.recipeId===s.recipes.id)&&o.user.isAuthenticated?(c(),d("div",No,[t("button",{title:"Add Favorite",class:"btn",onClick:e[0]||(e[0]=O((...n)=>o.removeFavorite&&o.removeFavorite(...n),["stop"]))},Uo)])):o.user.isAuthenticated?(c(),d("div",qo,[t("button",{title:"Remove Favorite",class:"btn",onClick:e[1]||(e[1]=O((...n)=>o.addFavorite&&o.addFavorite(...n),["stop"]))},Do)])):(c(),d("div",Vo))]),t("div",Lo,[t("p",Bo,p(s.recipes.title),1),t("p",Ho,p(s.recipes.subtitle),1)])])])}var Ko=w(To,[["render",zo],["__scopeId","data-v-221521f2"]]),Yo=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ko});const K={props:{recipes:{type:Object},favorites:{type:Array}},setup(i){return{imgUrl:v(()=>`url(${i.recipes.imgUrl})`),account:v(()=>r.account),user:v(()=>r.user),async remove(){try{await oe.remove(i.recipes.id)}catch(e){l.error(e),h.toast(e,"error")}},async addFavorite(){try{await j.addFavorite(i.recipes.id,this.account.id)}catch(e){l.error(e),h.toast(e,"error")}},async removeFavorite(){try{let e=i.favorites.find(s=>s.recipeId===i.recipes.id);await j.removeFavorite(e.id)}catch(e){l.error(e),h.toast(e,"error")}}}}},ae=()=>{W(i=>({"3f971194":i.imgUrl}))},re=K.setup;K.setup=re?(i,e)=>(ae(),re(i,e)):ae;const Qo=K,N=i=>(I("data-v-11f8abde"),i=i(),k(),i),Wo={class:"recipeModal"},Go=["id"],Zo={class:"modal-dialog modal-dialog-centered modal-xl"},Jo={class:"modal-content border-0"},Xo={class:"modal-body d-flex justify-content-center"},es={class:"card modalstyle d-flex flex-md-row"},ts={class:"col-md-4 backrecipe"},os={key:0,class:"text-end me-2"},ss=N(()=>t("i",{class:"mdi-36px text-danger mdi mdi-cards-heart"},null,-1)),is=[ss],ns={key:1,class:"text-end me-2"},as=N(()=>t("i",{class:"mdi-36px text-white mdi mdi-cards-heart-outline"},null,-1)),rs=[as],cs={class:"col-md-8 backright"},ds={class:"d-flex justify-content-between"},ls={class:"d-flex"},us={class:"title font"},_s={class:"card category align-self-end rounded-pill border-0 ms-4"},ps={class:"m-0 px-2 font margtop"},ms={key:0,class:"align-self-center mt-4 ms-4"},vs=N(()=>t("div",null,[t("i",{"data-bs-dismiss":"modal","aria-label":"Close",class:"mdi selectable1 mdi-24px me-2 mdi-close"})],-1)),fs={class:"subtitle font"},gs={class:"row"},hs={class:"col-md-6 ps-5 pe-3 pt-2"},bs={class:"col-md-6 pe-5 ps-3 pt-2"},ys={class:"row justify-content-end"},xs={class:"card published font d-flex flex-row align-items-center"},ws=N(()=>t("i",{class:"me-2 f-10"}," Published by: ",-1)),Ss=["src"];function Is(i,e,s,o,a,u){const n=T("Steps"),b=T("Ingredients");return c(),d("div",Wo,[t("div",{class:"modal fade",id:"a"+s.recipes.id+"a",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},[t("div",Zo,[t("div",Jo,[t("div",Xo,[t("div",es,[t("div",ts,[s.favorites.find(_=>_.recipeId===s.recipes.id)?(c(),d("div",os,[t("button",{title:"Add Favorite",class:"btn",onClick:e[0]||(e[0]=(..._)=>o.removeFavorite&&o.removeFavorite(..._))},is)])):o.user.isAuthenticated?(c(),d("div",ns,[t("button",{title:"Remove Favorite",class:"btn",onClick:e[1]||(e[1]=(..._)=>o.addFavorite&&o.addFavorite(..._))},rs)])):f("",!0)]),t("div",cs,[t("div",null,[t("div",ds,[t("div",ls,[t("div",null,[t("p",us,p(s.recipes.title),1)]),t("div",_s,[t("p",ps,p(s.recipes.category),1)]),s.recipes.creatorId===o.account.id?(c(),d("div",ms,[t("i",{title:"Remove Recipe",onClick:e[2]||(e[2]=(..._)=>o.remove&&o.remove(..._)),class:"mdi mdi-18px text-secondary delete mdi-trash-can selectable1"})])):f("",!0)]),vs]),t("div",null,[t("p",fs,p(s.recipes.subtitle),1)])]),t("div",gs,[t("div",hs,[$(n,{recipe:s.recipes},null,8,["recipe"])]),t("div",bs,[$(b,{recipe:s.recipes},null,8,["recipe"])])]),t("div",ys,[t("div",xs,[ws,U(p(s.recipes.creator.name)+" ",1),t("img",{class:"profilepic ms-2",src:s.recipes.creator.picture,alt:""},null,8,Ss)])])])])])])])],8,Go)])}var ks=w(Qo,[["render",Is],["__scopeId","data-v-11f8abde"]]),$s=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ks});const As={props:{recipe:{type:Object}},setup(i){let e=S({recipeId:i.recipe.id});return{edit:S(!0),add:e,steps:v(()=>r.activeSteps),account:v(()=>r.account),async addStep(){try{await H.addStep(e.value),e.value={recipeId:i.recipe.id}}catch(o){l.error(o),h.toast(o,"error")}},async removeStep(o){try{await H.removeStep(o)}catch(a){l.error(a),h.toast(a,"error")}}}}},Y=i=>(I("data-v-5136b564"),i=i(),k(),i),Cs={class:"Steps"},Es={key:0,class:"card border-0"},Ts={class:"topcard rounded d-flex justify-content-center align-items-center"},Rs=Y(()=>t("div",{class:"col-8 text-end"},[t("p",{class:"font title my-2"},"Recipe Steps")],-1)),Os={class:"text-end col-4"},Ps={class:"middlecard scrollbar pt-2"},js={class:"font mx-3 mb-1"},Ns={class:"font mb-1 bodywid"},Fs={class:"bottomcard rounded d-flex justify-content-center align-items-center"},Us={class:"input-group mb-3"},qs=Y(()=>t("div",{class:"input-group-append"},[t("button",{class:"btn whiteback border-0",type:"submit"},[t("i",{class:"mdi mdi-18px text-primary mdi-plus"})])],-1)),Ms={key:1,class:"card border-0"},Ds={class:"topcard rounded d-flex justify-content-center align-items-center"},Vs=Y(()=>t("div",{class:"col-8 text-end"},[t("p",{class:"font title my-2"},"Recipe Steps")],-1)),Ls={class:"text-end col-4"},Bs={class:"middlecard scrollbar pt-2"},Hs=["onClick"],zs={class:"font mx-3 mb-1"},Ks={class:"font mb-1 bodywid2"},Ys={class:"bottomcard rounded d-flex justify-content-end align-items-center"},Qs={class:"px-2"};function Ws(i,e,s,o,a,u){return c(),d("div",Cs,[o.edit===!0?(c(),d("div",Es,[t("div",Ts,[Rs,t("div",Os,[s.recipe.creatorId===o.account.id?(c(),d("i",{key:0,onClick:e[0]||(e[0]=n=>o.edit=!o.edit),title:"Edit Ingredients",class:"mdi pe-3 mdi-18px mdi-pencil selectable1"})):f("",!0)])]),t("div",Ps,[(c(!0),d(C,null,R(o.steps,n=>(c(),d("div",{class:"d-flex",key:n.id},[t("p",js,p(n.stepNumber)+".",1),t("p",Ns,p(n.body),1)]))),128))]),t("div",Fs,[s.recipe.creatorId===o.account.id?(c(),d("form",{key:0,onSubmit:e[2]||(e[2]=O((...n)=>o.addStep&&o.addStep(...n),["prevent"]))},[t("div",Us,[y(t("input",{type:"text",class:"form-control border-0 font whiteback",placeholder:"Add a step","aria-label":"Step","onUpdate:modelValue":e[1]||(e[1]=n=>o.add.body=n),required:""},null,512),[[x,o.add.body]]),qs])],32)):f("",!0)])])):f("",!0),o.edit===!1?(c(),d("div",Ms,[t("div",Ds,[Vs,t("div",Ls,[t("i",{onClick:e[3]||(e[3]=n=>o.edit=!o.edit),title:"Edit Ingredients",class:"mdi pe-3 mdi-18px mdi-pencil selectable1"})])]),t("div",Bs,[(c(!0),d(C,null,R(o.steps,n=>(c(),d("div",{class:"d-flex",key:n.id},[t("i",{onClick:b=>o.removeStep(n.id),title:"Remove Ingredient",class:"mdi mdi-close text-danger ms-3 selectable1"},null,8,Hs),t("p",zs,p(n.stepNumber)+".",1),t("p",Ks,p(n.body),1)]))),128))]),t("div",Ys,[t("div",Qs,[t("p",{title:"Done",onClick:e[4]||(e[4]=n=>o.edit=!o.edit),class:"font pe-3 f-16 text-primary selectable1"}," Done ")])])])):f("",!0)])}var Gs=w(As,[["render",Ws],["__scopeId","data-v-5136b564"]]),Zs=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Gs});function Js(i){Object.entries({"./components/Ingredients.vue":et,"./components/Navbar.vue":Tt,"./components/NewRecipeModal.vue":so,"./components/ProfileOffCanvas.vue":Ao,"./components/Recipe.vue":Yo,"./components/RecipeModal.vue":$s,"./components/Steps.vue":Zs}).forEach(([s,o])=>{const a=o.name||s.substr(s.lastIndexOf("/")+1).replace(/\.\w+$/,"");i.component(a,o.default)})}const ce=ge(Ie);Js(ce);ce.use(X).mount("#app");export{r as A,h as P,w as _,g as a,ee as b,l,oe as r};
